clc;
addpath(genpath(fullfile(pwd, 'test_functions')));

dimension = 7;

n_iterations = 1000;       % n_iterations
population_size = 10; % population_size >= 4
diff_weight = 1.5;     % diff_weight \in [0, 2]
cross_prob = 0.5;    % cross_prob \in [0,1]

% f_cos
lower_b = [-5.12, -5.12, -5.12, -5.12, -5.12, -5.12, -5.12];
upper_b = [ 5.11,  5.11,  5.11,  5.11,  5.11,  5.11,  5.11];

population = init_random(dimension, population_size, lower_b, upper_b);

fprintf('cos\n');

[optimal_agent, optimal_value, f_time] = differential_evolution(population, @f_cos, n_iterations, diff_weight, cross_prob);


%{
    3.2146   -3.5076    1.5882    2.1029   -0.6316   -2.2963    2.5655
    4.1463    4.8092   -4.7547   -4.7943   -1.2167    1.8334   -2.5104
   -3.8209    4.6718    3.5666   -2.2871    2.7112    1.5817    0.0559
    4.2238   -0.1546    4.4348   -4.6477    3.0149   -3.4565    2.0316
    1.3490    3.0669    1.8235   -4.1263   -3.2083   -3.9027    3.9939
   -4.1222   -3.6685    2.6317    3.3040   -0.1097   -0.0217    4.6936
   -2.2710   -0.8054    2.4822    1.9881   -0.5617    4.6982    0.4780
    0.4746    4.2480   -1.1075   -1.8761    1.4918   -1.6379   -3.7019
    4.6753    2.9843    1.5855    4.6008    2.1368    0.8673   -3.5927
    4.7508    4.6956   -3.3688   -4.7676    2.6004   -2.8304   -2.4857

cos

n iterations: 1000
diff_weight: 1.500000
cross_prob: 0.500000

number of function calls: 10010
Function call time 0.000000 sec.

First function value: 138.939711 

 function calls time average: 7.014585e-06 

 optimal value: 4.699734 

 optiml agent
   -1.0603    0.0103   -1.0054    0.9669    0.0378    0.0230   -0.8818

population
    3.2146   -3.5076    1.5882    2.1029   -0.6316   -2.2963    2.5655
   -1.0168    0.0103   -1.0054    0.9669    0.0378    0.0230    0.9805
    0.0552    0.0103   -1.0870    0.9691   -0.9783    1.0867   -0.9233
   -1.0385    0.0103   -0.9716   -1.0673    0.0115    0.9973   -0.9348
   -1.0240    0.0103   -1.1075    0.0552    0.0047   -0.0664   -0.9002
   -1.0385    0.0103   -0.0588   -1.0446   -1.0378   -0.0813    1.0082
   -1.0385    0.0103    0.0100    0.9734   -0.1468   -0.1111   -0.8818
   -1.0385    0.0103   -0.9740   -0.0031    0.0209   -0.1558    1.9348
   -1.0385    0.0103   -0.0244   -1.1255    0.0276   -0.0217    1.9624
   -0.8566    0.0103   -1.0256   -1.0475   -0.9558   -0.0217    1.0082
%}